(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"BP/7":function(e,n,a){var t=a("FRmQ"),r=Array.prototype;e.exports=function(e){var n=e.find;return e===r||e instanceof Array&&n===r.find?t:n}},FRmQ:function(e,n,a){a("vfRR");var t=a("oWnS");e.exports=t("Array").find},Ip10:function(e,n,a){e.exports=a("drcE")},"Q/yZ":function(e,n,a){"use strict";a.r(n);var t={};a.r(t),a.d(t,"set",function(){return ce}),a.d(t,"setXY",function(){return le}),a.d(t,"add",function(){return ue}),a.d(t,"sub",function(){return de}),a.d(t,"mul",function(){return fe}),a.d(t,"floor",function(){return he}),a.d(t,"ceil",function(){return pe}),a.d(t,"round",function(){return me}),a.d(t,"length",function(){return ve}),a.d(t,"makeLength",function(){return be}),a.d(t,"angle",function(){return ge}),a.d(t,"rotate",function(){return ye}),a.d(t,"unit",function(){return je}),a.d(t,"normalizeOnX",function(){return xe}),a.d(t,"normalizeOnY",function(){return Oe}),a.d(t,"perpR",function(){return we}),a.d(t,"perpL",function(){return Te}),a.d(t,"dot",function(){return ke}),a.d(t,"cross",function(){return Re}),a.d(t,"project",function(){return Se}),a.d(t,"sign",function(){return Ee}),a.d(t,"angleBetween",function(){return Ae}),a.d(t,"equals",function(){return Pe}),a.d(t,"nearlyEquals",function(){return Fe});var r=a("hdMt"),o=a.n(r),i=a("wTvh"),s=a.n(i),c=a("aNQX"),l=a.n(c),u=a("NDYa"),d=a.n(u),f=a("8Vev"),h=a.n(f),p=a("CvqZ"),m=a.n(p),v=a("ejTr"),b=a.n(v),g=a("4LGG"),y=a.n(g),j=a("4GPS"),x=a.n(j),O=a("0G99"),w=a.n(O),T=a("nGYt"),k=a.n(T),R=a("a0dU"),S=a.n(R),E=a("ibpK"),A=a("SLhn"),P=a.n(A),F=a("nxLD"),D=a("U/7m"),U=a("i4NW"),M=a("xlpc"),C=a("mqag"),G=a("wD70"),z=a("L6fE"),L=a("q1tI"),B=a.n(L),_=a("qQT2"),N=a("fT37"),H=a("EJl4"),I=a("qYPL"),V=a("vmEU"),J=a("Q4cU"),q=a.n(J),W=a("5Yf3"),Y=a("FKOG"),Q=a("JWrI"),X=a("EovC"),K=a("S1d7"),Z=Math.sqrt,$=Math.atan2,ee=Math.sin,ne=Math.cos,ae=Math.abs,te=Math.PI,re=Math.floor,oe=Math.ceil,ie=Math.round,se=2*te;function ce(e){return this.x=e.x,this.y=e.y,this}function le(e,n){return this.x=e,this.y=n,this}function ue(e){return le.call(this,this.x+e.x,this.y+e.y)}function de(e){return le.call(this,this.x-e.x,this.y-e.y)}function fe(e){return le.call(this,this.x*e,this.y*e)}function he(){return le.call(this,re(this.x),re(this.y))}function pe(){return le.call(this,oe(this.x),oe(this.y))}function me(){return le.call(this,ie(this.x),ie(this.y))}function ve(){var e=this.x,n=this.y;return Z(e*e+n*n)}function be(e){if(e<0)throw new X.a("must not be less than 0","len",e);return 0===e?le.call(this,0,0):0===this.x&&0===this.y?le.call(this,0,e):fe.call(this,e/ve.call(this))}function ge(){return $(this.x,this.y)}function ye(e){var n=this.x,a=this.y,t=ee(e),r=ne(e);return le.call(this,n*r-a*t,n*t+a*r)}function je(){var e=this,n=Object(_.c)(function(){if(0===e.x&&0===e.y)return[0,0];var n=1/ve.call(e);return[e.x*n,e.y*n]}),a=Object(W.a)(n,2),t=a[0],r=a[1];return le.call(this,t,r)}function xe(){if(0===this.x)throw new Q.a("cannot normalize on `x` if it is zero",this);return fe.call(this,1/ae(this.x))}function Oe(){if(0===this.y)throw new Q.a("cannot normalize on `y` if it is zero",this);return fe.call(this,1/ae(this.y))}function we(){return le.call(this,-this.y,this.x)}function Te(){return le.call(this,this.y,-this.x)}function ke(e){return this.x*e.x+this.y*e.y}function Re(e){return this.x*e.y-this.y*e.x}function Se(e){var n=ve.call(e);return 0===n?0:ke.call(this,e)/(n*n)}function Ee(e){return this.y*e.x>this.x*e.y?-1:1}function Ae(e){var n=$(e.y,e.x)-$(this.y,this.x);return n>te?se-n:-n}function Pe(e){return this.x===e.x&&this.y===e.y}function Fe(e){var n;return(n=this.x,K.tolerantCompare).call(n,e.x)&&(n=this.y,K.tolerantCompare).call(n,e.y)}var De,Ue,Me=a("q4g7"),Ce=a.n(Me),Ge=Math.max,ze=Math.random,Le=function(e,n){return e+ze()*n},Be=function(e,n){return Ge(0,e-n)},_e={solveFriction:function(e){return 5/e},solveAccel:function(e,n){return e*n},newVelocity:function(e,n,a){return a+(e-n*a)}},Ne=q()({passive:Ce()("passive"),aggressive:Ce()("aggressive")}),He=q()({up:Ce()("up"),right:Ce()("right"),down:Ce()("down"),left:Ce()("left")}),Ie=q()({right:He.right,left:He.left}),Ve=q()({ahead:Ce()("ahead"),up:He.up,down:He.down,none:Ce()("none")}),Je=q()({no:Ce()("no"),drift:Ce()("drift"),yes:Ce()("yes")}),qe=q()({full:Ce()("full"),weak:Ce()("weak"),none:Ce()("none")}),We=q()({bark:"bark",aroo:"aroo",land:"land",spawned:"spawned",hit:"hit",timedOut:"timedOut"}),Ye=q()((De={},Object(z.a)(De,He.up,q()({x:0,y:1})),Object(z.a)(De,He.right,q()({x:1,y:0})),Object(z.a)(De,He.down,q()({x:0,y:-1})),Object(z.a)(De,He.left,q()({x:-1,y:0})),De)),Qe=function(e,n){return function(a,t,r){e(a,t,r)&&w()(n).call(n,function(e){return e(a,t,r)})}},Xe={handledLogic:Ce()("handledLogic"),didInitialize:Ce()("didInitialize")},Ke={homing:{begin:100,full:25},fov:(Ue=120,Y.a.toRadians).call(Ue),maxDrift:(Ue=150,Y.a.toRadians).call(Ue)/1e3,chaseDistance:{node2:3,node3:3}},Ze={bulletVel:.45,driftRemainingValue:(Ue=60,Y.a.toRadians).call(Ue)},$e=1e3,en=150,nn=Math.max,an=Math.min,tn=Math.abs,rn=Xe.didInitialize,on=Xe.handledLogic,sn=$e,cn=en,ln=Ke.homing,un=ln.begin,dn=ln.full,fn=Ke.chaseDistance,hn=Ke.maxDrift,pn=Ke.fov,mn=Ze.bulletVel,vn=Ze.driftRemainingValue;function bn(e,n,a){var r,o=(r=_.d.copyOwn.call(n),t.sub).call(r,e);t.length.call(o)<=a||((r=t.makeLength.call(o,a),t.add).call(r,e),t.set.call(n,o))}var gn,yn,jn=q()([function(e,n,a){var r,o=a.lanes;if(e.spawned&&!e.initialized){var i=e.trajectory,s=e.sounds,c=Object(W.a)(e.nodes,3),l=c[0],u=c[1],d=c[2];t.unit.call(i),(r=u.pos,t.set).call(r,l.pos),(r=d.pos,t.set).call(r,l.pos),e.driftRemaining=vn,e.timeout=sn,e.burst=0,e.initialized=!0,s[We.spawned].play(),o.add(rn)}},function(e,n){var a,r=n.cursor;if(e.spawned&&!(e.burst>0)){var o=e.sounds,i=Object(W.a)(e.nodes,1)[0].pos;(a=(a=(a=r.relPos,_.d.copyOwn).call(a),t.sub).call(a,i),t.length).call(a)>4||(e.timeout=0,e.burst=cn,o[We.hit].play())}},function(e,n,a){var t=a.delta,r=a.lanes;e.spawned&&(r.has(rn)||e.burst>0||(e.timeout=Be(e.timeout,t),e.timeout>0||(e.burst=cn,e.sounds[We.timedOut].play())))},function(e,n,a){var t=a.delta,r=a.lanes;e.spawned&&(r.has(rn)||r.has(on)||e.burst<=0||(e.burst=Be(e.burst,t),e.burst<=0&&(e.spawned=!1),r.add(on)))},function(e,n,a){var r,o=n.cursor,i=a.delta,s=a.lanes;if(e.spawned&&!s.has(rn)&&!s.has(on)&&!(e.driftRemaining<=0)){var c=o.relPos,l=e.trajectory,u=Object(W.a)(e.nodes,1)[0].pos,d=(r=_.d.copyOwn.call(c),t.sub).call(r,u),f=t.length.call(d);if(!(f>un)){var h=Object(_.c)(function(){var n=an(hn*i,e.driftRemaining),a=Object(_.c)(p),t=Object(W.a)(a,2),r=t[0],o=t[1];if(r>.5*pn)return 0;if(f<=dn)return o*an(r,n);var s=f-dn,c=y()(Y.a).call(s,un-dn,0,0,1);return o*an(r*c,n)});e.driftRemaining=nn(e.driftRemaining-tn(h),0),t.rotate.call(l,h)}}function p(){var e=t.angleBetween.call(d,l);return[tn(e),Y.a.sign.call(e)]}},function(e,n,a){var r,o=a.delta,i=a.lanes;if(e.spawned&&!i.has(rn)&&!i.has(on)){var s=e.trajectory,c=Object(W.a)(e.nodes,3),l=c[0],u=c[1],d=c[2];(r=l.pos,t.add).call(r,(r=_.d.copyOwn.call(s),t.mul).call(r,mn*o)),bn(l.pos,u.pos,fn.node2),bn(u.pos,d.pos,fn.node3),i.add(on)}}]),xn=a("dUVM"),On=a.n(xn),wn=a("Ip10"),Tn=a.n(wn),kn=a("UUak"),Rn={handledMovement:Ce()("handledMovement"),behaviorFinalized:Ce()("behaviorFinalized"),didFlee:Ce()("didFlee"),didAttack:Ce()("didAttack"),isFrustrated:Ce()("isFrustrated")},Sn=_e.solveFriction(250),En={maxVel:.13,friction:Sn,runAccel:_e.solveAccel(Sn,.13),jumpVel:{weak:.275,full:.375},jumpHeight:{weak:35,full:67}},An=7,Pn=42,Fn=En.jumpHeight.full+Pn,Dn={flee:{side:100,above:Fn,below:24},comfortable:{min:150,max:300},maxTargetDistance:400,sideReachableBounds:{bottom:15,top:Fn},edgeFleeDistances:{min:.1,max:.2},firingField:15,jumpOverDistance:50,stareAtOffset:100,stareUpRange:{min:-(gn=45,Y.a.toRadians).call(gn),max:(gn=45,Y.a.toRadians).call(gn)},sightFOV:(yn={},Object(z.a)(yn,Ve.ahead,{min:(gn=45,Y.a.toRadians).call(gn),max:(gn=125,Y.a.toRadians).call(gn)}),Object(z.a)(yn,Ve.up,{min:-(gn=15,Y.a.toRadians).call(gn),max:(gn=60,Y.a.toRadians).call(gn)}),Object(z.a)(yn,Ve.down,{min:(gn=135,Y.a.toRadians).call(gn),max:(gn=225,Y.a.toRadians).call(gn)}),yn)},Un=200,Mn=500,Cn=300,Gn=1e3,zn=4e3,Ln=16e3,Bn={start:1e3,added:3e3},_n={shortTimes:{start:1e3,added:1e3},longTimes:{start:4e3,added:4e3}};function Nn(e){return q()(e)}var Hn=Object(_.c)(function(){var e=Nn,n=q()([e({x:18,y:27}),e({x:20,y:24}),e({x:18,y:25}),e({x:9,y:45}),e({x:11,y:42}),e({x:8,y:43}),e({x:10,y:18})]);return function(e,a){var t=a.brain.moving,r=a.physics.onGround;return e===Ve.ahead?r?t===Je.yes?n[1]:n[2]:n[0]:e===Ve.up?r?t===Je.yes?n[4]:n[5]:n[3]:e!==Ve.down||r?kn.b:n[6]}}),In=Rn.handledMovement,Vn=En.friction,Jn=En.runAccel,qn=En.jumpVel,Wn=An,Yn=Un,Qn=Mn,Xn=Cn,Kn=Ce()("nateActions_Core/applyShootAnim");function Zn(e,n,a){var t=n.cursor,r=n.bounds,o=a.lanes;if(!o.has(In)){var i=e.physics.pos,s=e.brain,c=i.x-Wn,l=i.x+Wn,u=t.relPos.x-i.x>=0?Ie.right:Ie.left;u===Ie.left&&c<=r.left||u===Ie.right&&l>=r.right||(s.facing=u,s.moving=Je.yes,o.add(In))}}function $n(e){return!e.spawned}var ea=Math.abs,na=Math.random,aa=Dn.firingField,ta=Dn.maxTargetDistance,ra=Dn.sideReachableBounds,oa=ra.bottom,ia=ra.top;function sa(e,n){var a,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.physics.pos,o=e.brain,i=o.facing,s=o.shootCoolDown;if(t&&s>0)return Ve.none;var c,l=(n.x-r.x)*(i===Ie.left?-1:1),u=n.y-r.y;if((a=c=Hn(Ve.down,e),kn.a.isDefined).call(a)){var d,f=c,h=f.x,p=u-f.y;if(p<=0&&ea(l-h)<=(d=-p,Y.a.clamp).call(d,aa))return Ve.down}if((a=c=Hn(Ve.up,e),kn.a.isDefined).call(a)){var m=c,v=m.x,b=u-m.y;if(b>=0&&ea(l-v)<=Y.a.clamp.call(b,aa))return Ve.up}if((a=c=Hn(Ve.ahead,e),kn.a.isDefined).call(a)){var g=c,y=g.x,j=g.y,x=l-y;if(x>=0&&ea(u-j)<=Y.a.clamp.call(x,aa))return Ve.ahead}return Ve.none}function ca(e,n){return!!function(e,n){var a=e.x,t=e.y,r=n.left,o=n.right,i=n.ground,s=r-ta,c=o+ta;return!(!Y.a.inRange.call(a,s,c)||!Y.a.inRange.call(t,oa+i,ia+i))}(e,n)||!!function(e,n){var a=e.x,t=e.y,r=n.left,o=n.right;return!(!Y.a.inRange.call(t,-ta,ta)||!Y.a.inRange.call(a,r,o))}(e,n)}function la(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nateCommon/randomJump",t=Ce()(a);return function(a,r,o){var i,s=o.delta,c=o.actions,l=a.brain;if(a.physics.onGround){var u=null!==(i=c[t])&&void 0!==i?i:{nextJump:Le(e,n)};u.nextJump=Be(u.nextJump,s),u.nextJump>0?a.actions[t]=u:l.jumping=na()>.5?qe.full:qe.weak}}}var ua=Math.random,da=Rn.handledMovement,fa=An,ha=Ce()("nateActions_Debug/randomIdle"),pa=Ce()("nateActions_Debug/randomShoot");Ce()("nateActions_Debug/logJumpHeights");function ma(){var e=Le(1e3,2e3);return ua()>.5?[e,0]:[0,e]}function va(){var e=Object(_.c)(ma),n=Object(W.a)(e,2);return{waiting:n[0],lookUp:!1,doElse:n[1]}}function ba(e,n,a){var t,r=a.delta,o=a.actions,i=a.lanes,s=null!==(t=o[ha])&&void 0!==t?t:Object(_.c)(va);s.waiting>0?(i.add(da),e.brain.lookingUp=s.lookUp,s.waiting=Be(s.waiting,r),s.waiting<=0&&(s.doElse=Le(1e3,2e3))):(s.doElse=Be(s.doElse,r),s.doElse<=0&&(s.waiting=Le(1e3,2e3),s.lookUp=ua()>.75)),e.actions[ha]=s}function ga(e,n,a){var t=n.bounds,r=a.lanes;if(!r.has(da)){r.add(da);var o=e.brain,i=e.physics.pos;i.x-fa<=t.left&&(o.facing=Ie.right),i.x+fa>=t.right&&(o.facing=Ie.left),o.moving=Je.yes}}var ya=la(500,1500,"nateActions_Debug/randomJump");function ja(e,n,a){var t,r=a.delta,o=a.actions,i=e.brain;if(!(i.shootCoolDown>0)){var s=null!==(t=o[pa])&&void 0!==t?t:{nextShoot:ua()>.5?0:3e3*ua()};s.nextShoot=Be(s.nextShoot,r),s.nextShoot<=0&&(i.shooting=Object(_.c)(function(){var n=ua();return n<.5?Ve.ahead:n<.75?Ve.up:e.physics.onGround?Ve.up:Ve.down})),e.actions[pa]=s}}var xa=Rn.behaviorFinalized,Oa=Pn,wa=Dn.maxTargetDistance,Ta=Dn.sightFOV,ka=zn;function Ra(e,n,a){var t=a.lanes;return!t.has(xa)&&(e.brain.behavior===Ne.passive&&(t.add(xa),!0))}var Sa=Object(_.c)(function(){return Qe(Ra,[ba,ga,ya,ja])}),Ea=Qe(function(e){return e.brain.behavior===Ne.passive},[function(e,n,a){var t=a.delta,r=a.lanes,o=e.brain;o.pacificationTimer<=0||(o.pacificationTimer=Be(o.pacificationTimer,t),r.add(xa))},function(e,n,a){var r=n.bounds,o=n.cursor;if(!a.lanes.has(xa)){var i=e.physics.pos,s=e.brain,c=e.sounds,l=o.relPos;if(!(o.msSinceUpdate>=ka)&&ca(l,r)){var u=function(e){var n=e.brain,a=n.lookingUp,t=n.aiming;return t!==Ve.none?t:a?Ve.up:Ve.ahead}(e),d=function(e,n,a){var r=e.x,o=e.y;o+=Oa;var i=_.d.copyOwn.call(n);return i.x-=r,i.y-=o,a&&(i.x*=-1),[t.length.call(i),t.angle.call(i)]}(i,l,s.facing===Ie.left),f=Object(W.a)(d,2),h=f[0],p=f[1];if(!(h>wa)){var m=Ta[u],v=m.min,b=m.max;Y.a.angleInRange.call(p,v,b)&&(s.behavior=Ne.aggressive,c[We.bark].play())}}}},Sa]),Aa=a("2ZOO"),Pa=a.n(Aa),Fa=Math.max,Da=Math.abs,Ua=Rn.handledMovement,Ma=Rn.behaviorFinalized,Ca=Rn.didFlee,Ga=Rn.didAttack,za=Dn.flee,La=za.above,Ba=za.below,_a=za.side,Na=Dn.edgeFleeDistances,Ha=Dn.jumpOverDistance,Ia=Dn.comfortable.max,Va=Dn.sideReachableBounds.bottom,Ja=An,qa=Pn,Wa=En.maxVel,Ya=Gn,Qa=q()({until:0,forced:!1}),Xa=Ce()("nateActions_Flee/fleeBehavior"),Ka=Ce()("nateActions_Flee/fleeFromEdge"),Za=Ce()("nateActions_Flee/fleeFromCursor"),$a=Ce()("nateActions_Flee/retaliateJumpOver"),et=Ce()("nateActions_Flee/retaliateBackFire");function nt(e,n){var a=n.min,t=n.max,r=e.right-e.left;return Fa(Object(Y.b)(a*r,t*r),_a)}function at(e,n){return e+(n.spawned?0:1)}var tt=Qe(function(e,n,a){var t,r,o=n.cursor,i=a.delta,s=a.actions,c=a.lanes;if(c.has(Ma))return!1;var l=e.physics.pos,u=o.relPos,d=u.x-l.x,f=u.y-l.y,h=null!==(t=s[Xa])&&void 0!==t?t:Qa,p=h.until,m=h.forced;if(p=Be(p,i),!m&&p<=0){if(f>=0&&f>La)return!1;if(f<0&&-f>Ba)return!1;if(Da(d)>_a)return!1}var v=null!==(r=s[Xa])&&void 0!==r?r:Object(_.c)(function(){return e.brain.retaliationTimer=Le(250,Ya),{horizDiff:0,vertDiff:0,until:0,forced:!1}});return v.horizDiff=d,v.vertDiff=f,v.until=p>0?p:Le(500,500),v.forced=!1,e.actions[Xa]=v,c.add(Ma),!0},[function(e,n,a){var t=n.bounds,r=a.actions,o=a.lanes;if(!o.has(Ca)&&!o.has(Ua)){var i=e.physics.pos,s=e.brain,c=Fa(i.x-Ja-t.left,0),l=Fa(-1*(i.x+Ja-t.right),0),u=r[Ka];if("undefined"===typeof u)if(c<=0)u={edgeFleeDistance:nt(t,Na),edgeFleeFacing:Ie.right};else{if(!(l<=0))return;u={edgeFleeDistance:nt(t,Na),edgeFleeFacing:Ie.left}}var d=u,f=d.edgeFleeDistance,h=d.edgeFleeFacing;switch(h){case Ie.right:if(c>=f)return;s.facing=h,s.moving=Je.yes;break;case Ie.left:if(l>=f)return;s.facing=h,s.moving=Je.yes}e.actions[Ka]=u,o.add(Ca),o.add(Ua)}},function(e,n,a){var t,r=a.delta,o=a.actions,i=a.lanes;if(!i.has(Ca)&&!i.has(Ua)){var s=e.brain,c=e.actions[Xa].horizDiff,l=null!==(t=o[Za])&&void 0!==t?t:{lastFacing:Ie.left,holdTimer:0};l.holdTimer=Be(l.holdTimer,r),s.moving=Je.yes,s.facing=Object(_.c)(function(){if(l.holdTimer>0)return l.lastFacing;var e=c>=0?Ie.left:Ie.right;return l.lastFacing=e,l.holdTimer=Le(75,125),e}),e.actions[Za]=l,i.add(Ca),i.add(Ua)}},function(e,n,a){var t=n.cursor,r=a.lanes;if(r.has(Ca)&&!r.has(Ga)){var o=e.brain,i=e.physics.onGround,s=e.actions[Xa].vertDiff;if(!Object(_.c)(function(){return!!i&&!(s<=qa)&&sa(e,t.relPos,!1)===Ve.up}))return!1;o.shooting=Ve.up,r.add(Ga)}},function(e,n,a){var t,r=n.cursor,o=a.actions,i=a.lanes;if(i.has(Ca)&&!i.has(Ga)){var s=e.brain,c=e.physics.onGround,l=e.actions[Xa],u=l.horizDiff,d=l.vertDiff,f="undefined"!==typeof o[$a];if(Object(_.c)(function(){return f?!c:!!c&&!(s.retaliationTimer>0)&&!(Da(u)>Ha)&&!!Y.a.inRange.call(d,-Ia,qa)&&(!!(Da(u)<=Ja&&Y.a.inRange.call(u,0,qa))||u>0&&s.facing===Ie.right||u<0&&s.facing===Ie.left)})){var h=null!==(t=o[$a])&&void 0!==t?t:{facing:s.facing};if(c)s.jumping=qe.full;else{s.facing=h.facing,s.moving=Je.yes;var p=sa(e,r.relPos);p===Ve.down&&(s.shooting=p)}e.actions[Xa].forced=!0,e.actions[$a]=h,i.add(Ga)}else f&&(e.brain.retaliationTimer=Le(250,Ya))}},function(e,n,a){var t=n.bullets,r=n.cursor,o=a.actions,i=a.lanes;if(i.has(Ca)&&!i.has(Ga)){var s=e.brain,c=e.physics,l=c.onGround,u=c.vel,d=e.actions[Xa],f=d.horizDiff,h=d.vertDiff,p=!0===o[et];Object(_.c)(function(){return p?!l:!!l&&!(s.retaliationTimer>0)&&!(Da(u.x)<.9*Wa)&&!(Pa()(t).call(t,at,0)<2)&&!(h<Va)&&!(Da(f)<=2*Ja)&&(f>0&&s.facing===Ie.left||f<0&&s.facing===Ie.right)})?(l?s.jumping=h>=40?qe.full:qe.weak:(s.facing=f>=0?Ie.right:Ie.left,s.moving=Je.drift,s.shooting=sa(e,r.relPos)),e.actions[Xa].forced=!0,e.actions[et]=!0,i.add(Ga)):p&&(e.brain.retaliationTimer=Le(250,Ya))}}]),rt=a("iYz8"),ot=a.n(rt),it=Math.min,st=Math.max,ct=Math.abs,lt=Rn.behaviorFinalized,ut=Rn.handledMovement,dt=Rn.didAttack,ft=An,ht=Dn.jumpOverDistance,pt=Dn.comfortable,mt=Object(_.c)(function(){var e=Dn.flee.above,n=Dn.sideReachableBounds.top;return st(e,n)}),vt=Dn.flee.below,bt=Dn.sideReachableBounds.bottom,gt=Ce()("nateActions_Chase/shootFromBelow"),yt=Ce()("nateActions_Chase/shootFromBelow/approachToShootUp"),jt=Ce()("nateActions_Chase/shootFromAbove/passOverCursor"),xt=Ce()("nateActions_Chase/comfortableShooting/stayComfortable"),Ot=Ce()("nateActions_Chase/comfortableShooting/takeShots");function wt(e,n,a){var t,r,o=n.cursor,i=n.bounds,s=a.actions,c=a.lanes;if(c.has(dt))return!1;var l=o.relPos,u=i.left,d=i.right,f=i.ground;if(l.y<=mt+f)return!1;if(!(t=l.x,Y.a.inRange).call(t,u,d))return!1;var h=null!==(r=s[gt])&&void 0!==r?r:{doShooting:!1};return h.doShooting=sa(e,o.relPos,!1)===Ve.up,e.actions[gt]=h,c.add(dt),!0}function Tt(e,n,a){var t,r=a.actions,o=a.delta;e.brain.lookingUp=!0;var i=null!==(t=r[yt])&&void 0!==t?t:{retargetTimer:0,didShoot:!1};e.actions[gt].doShooting?(i.didShoot||(i.retargetTimer=Le(50,300)),i.didShoot=!0):(i.retargetTimer<=0&&Zn(e,n,a),i.retargetTimer=Be(i.retargetTimer,o),i.didShoot=!1),e.actions[yt]=i}function kt(e){var n=e.brain;e.actions[gt].doShooting&&(n.shootCoolDown>0||(n.shooting=Ve.up))}var Rt=Object(_.c)(function(){var e=la(0,1e3,"nateActions_Chase/randomJumpRefined");return Qe(wt,[Tt,kt,function(n,a,t){var r=a.cursor.relPos,o=a.bounds.ground;n.actions[gt].doShooting&&(r.y-o<=2*mt||e(n,a,t))}])});function St(e,n,a){var t,r=n.cursor,o=n.bounds,i=a.lanes;if(i.has(dt))return!1;var s=r.relPos,c=o.left,l=o.right,u=o.ground;return!(s.y>=u-vt)&&(!!(t=s.x,Y.a.inRange).call(t,c,l)&&(i.add(dt),!0))}function Et(e,n){var a=n.cursor,t=e.physics,r=t.onGround,o=t.pos,i=e.brain,s=a.relPos.x-o.x;r&&(ct(s)>=ht||s>=0&&i.facing!==Ie.right||s<0&&i.facing!==Ie.left||(i.jumping=qe.full))}function At(e,n){var a=n.cursor,t=e.brain;sa(e,a.relPos)===Ve.down&&(t.shooting=Ve.down)}var Pt=Object(_.c)(function(){var e=q()({approaching:Ce()("approaching"),jumping:Ce()("jumping"),runOff:Ce()("runOff")});return Qe(St,[Et,At,function(n,a,t){var r,o=n.physics,i=o.onGround,s=o.pos,c=n.brain,l=a.bounds,u=t.delta,d=t.lanes;if(!d.has(ut)){var f=null!==(r=t.actions[jt])&&void 0!==r?r:{curState:e.approaching,runOffTimer:0};switch(f.curState){case e.approaching:i?Zn(n,a,t):f.curState=e.jumping;break;case e.jumping:c.moving=Je.yes,i&&(f.curState=e.runOff,f.runOffTimer=Le(0,150));break;case e.runOff:f.curState=Object(_.c)(function(){var n=s.x-ft,a=s.x+ft;return n<=l.left?e.approaching:a>=l.right?e.approaching:f.runOffTimer<=0?e.approaching:(f.runOffTimer=Be(f.runOffTimer,u),c.moving=Je.yes,e.runOff)})}n.actions[jt]=f,d.add(ut)}}])});function Ft(e,n,a){var t=e-pt.max,r=e-pt.min;if(a||r>=n.left)return[st(t,n.left),st(r,n.left)]}function Dt(e,n,a){var t=e+pt.min,r=e+pt.max;if(a||t<=n.right)return[it(t,n.right),it(r,n.right)]}function Ut(e,n,a){var t=a.lanes;return!t.has(dt)&&(t.add(dt),!0)}function Mt(e,n,a){var t,r,o=n.bounds,i=n.cursor,s=a.actions,c=a.lanes;if(!c.has(ut)){var l=e.physics.pos,u=e.brain,d=i.relPos,f=function(e,n,a){var t,r,o=e.x,i=n.x;return o>=i?null!==(t=Dt(i,a,!1))&&void 0!==t?t:Ft(i,a,!0):null!==(r=Ft(i,a,!1))&&void 0!==r?r:Dt(i,a,!0)}(l,d,o),h=Object(W.a)(f,2),p=h[0],m=h[1],v=null!==(t=s[xt])&&void 0!==t?t:{chosenSpot:Object(Y.b)(p,m)};(r=v.chosenSpot,Y.a.inRange).call(r,p,m)||(v.chosenSpot=Object(Y.b)(p,m));var b=d.x>l.x?Ie.right:Ie.left;Object(_.c)(function(){var e,n=l.x-ft,a=l.x+ft;return!(e=v.chosenSpot,Y.a.inRange).call(e,n,a)&&(!(e=d.x,Y.a.inRange).call(e,l.x,v.chosenSpot)&&(!(b===Ie.left&&n<=o.left||b===Ie.right&&a>=o.right)||void 0))})?(u.facing=v.chosenSpot>l.x?Ie.right:Ie.left,u.moving=Je.yes):u.facing=b,e.actions[xt]=v,c.add(ut)}}function Ct(e,n,a){var t,r=n.cursor,o=n.bounds,i=a.delta,s=a.actions,c=e.physics,l=c.pos,u=c.onGround,d=e.brain,f=r.relPos,h=o.ground;if((f.x>l.x?Ie.right:Ie.left)===d.facing){var p=null!==(t=s[Ot])&&void 0!==t?t:{jumpTimer:0},m=sa(e,f,!1);if(m!==Ve.none)d.shootCoolDown<=0&&(d.shooting=m);else if(u&&(p.jumpTimer=Be(p.jumpTimer,i),p.jumpTimer<=0&&f.y>=bt+h)){var v=f.y-l.y;d.jumping=v>=50?qe.full:qe.weak,p.jumpTimer=Le(50,200)}e.actions[Ot]=p}}var Gt=Object(_.c)(function(){return Qe(Ut,[Mt,Ct])}),zt=Qe(function(e,n,a){var t=a.lanes;return!t.has(lt)&&(t.add(lt),!0)},[Rt,Pt,Gt]),Lt=Math.round,Bt=Math.abs,_t=Math.random,Nt=Rn.behaviorFinalized,Ht=Rn.isFrustrated,It=Rn.handledMovement,Vt=zn,Jt=Ln,qt=Bn,Wt=qt.start,Yt=qt.added,Qt=_n.shortTimes,Xt=Qt.start,Kt=Qt.added,Zt=_n.longTimes,$t=Zt.start,er=Zt.added,nr=Dn.stareAtOffset,ar=Dn.stareUpRange,tr=ar.min,rr=ar.max,or=Pn,ir=An,sr=Ce()("nateActions_Boredom/boredomBehavior"),cr=Ce()("nateActions_Boredom/boredomBehavior/beFrustrated"),lr=Ce()("nateActions_Boredom/boredomBehavior/beFrustrated/stomp"),ur=Ce()("nateActions_Boredom/boredomBehavior/beFrustrated/backAndForth"),dr=Ce()("nateActions_Boredom/boredomBehavior/beFrustrated/pretendNotToCare"),fr=Ce()("nateActions_Boredom/boredomBehavior/beFrustrated/spazzOut"),hr=Ce()("nateActions_Boredom/boredomBehavior/beFrustrated/momentarilyAggressive");function pr(e,n){var a,t=n.left,r=n.right-t,o=n.left+.5*r;return(a=e.x,Y.a.inRange).call(a,t,o)?Ie.right:Ie.left}function mr(e,n,a){var t=e.x-ir,r=e.x+ir;return n===Ie.left&&t<=a.left||n===Ie.right&&r>=a.right}var vr={notApplicable:Ce()("notApplicable"),continue:Ce()("continue"),done:Ce()("done")},br={stomp:function(e,n,a){var t,r=a.delta,o=a.actions,i=e.physics.onGround,s=e.brain,c=null!==(t=o[lr])&&void 0!==t?t:{actionTimer:Le(Xt,Kt),jumpTimer:0};return i&&c.actionTimer<=0?vr.done:(i&&(c.jumpTimer>0?c.jumpTimer=Be(c.jumpTimer,r):(s.jumping=qe.weak,c.jumpTimer=Le(50,100))),c.actionTimer=Be(c.actionTimer,r),e.actions[lr]=c,vr.continue)},backAndForth:function(e,n,a){var t,r=n.bounds,o=a.delta,i=a.actions,s=e.physics.pos,c=e.brain,l=null!==(t=i[ur])&&void 0!==t?t:{facing:pr(s,r),actionTimer:Le(Xt,Kt),runTimer:Le(250,500)},u=l.actionTimer<=0,d=l.runTimer<=0||mr(s,l.facing,r);return l.actionTimer=Be(l.actionTimer,o),l.runTimer=Be(l.runTimer,o),d&&(u||(l.facing=l.facing===Ie.right?Ie.left:Ie.right),l.runTimer=Le(250,500)),c.moving=Je.yes,c.facing=l.facing,e.actions[ur]=l,u&&d?vr.done:vr.continue},pretendNotToCare:function(e,n,a,t){var r,o=n.cursor,i=n.bounds,s=a.delta,c=a.actions;if(t.pretendedNotToCare)return vr.notApplicable;var l=e.physics.pos,u=e.brain,d=o.relPos.x-l.x,f=null!==(r=c[dr])&&void 0!==r?r:{lastFacing:d>=0?Ie.left:Ie.right,runTimer:Le(500,500),waitTimer:Le($t,er),repositionTimer:0};if(f.runTimer>0){var h=mr(l,f.lastFacing,i);h||(u.moving=Je.yes),u.facing=f.lastFacing,f.runTimer=h?0:Be(f.runTimer,s)}else{var p=d>=0?Ie.left:Ie.right;p!==f.lastFacing&&(f.repositionTimer=Le(50,150),f.lastFacing=p),f.repositionTimer<=0&&(u.facing=f.lastFacing),f.repositionTimer=Be(f.repositionTimer,s),f.waitTimer=Be(f.waitTimer,s)}return e.actions[dr]=f,f.waitTimer<=0?(t.pretendedNotToCare=!0,vr.done):vr.continue},spazzOut:function(e,n,a){var t,r=a.delta,o=a.actions,i=e.physics.onGround,s=e.brain,c=null!==(t=o[fr])&&void 0!==t?t:{jumpsRemaining:Lt(Object(Y.b)(2,4)),moveTimer:Le(32,32)};if(i&&0===c.jumpsRemaining)return vr.done;var l=c.moveTimer<=0;return c.moveTimer=Be(c.moveTimer,r),i&&(s.jumping=qe.full,c.jumpsRemaining-=1),s.shooting=Object(_.c)(function(){var e=_t();return e<.5?Ve.ahead:e<.75?Ve.up:i?Ve.up:Ve.down}),s.moving=Je.yes,l&&(s.facing=s.facing===Ie.right?Ie.left:Ie.right,c.moveTimer=Le(32,48)),e.actions[fr]=c,vr.continue},momentarilyAggressive:function(e,n,a){var t,r=n.cursor,o=n.bounds,i=a.delta,s=a.actions,c=a.lanes;if(!ca(r.relPos,o))return vr.notApplicable;var l=null!==(t=s[hr])&&void 0!==t?t:{timer:Le($t,er)};return l.timer<=0?vr.done:(c.delete(Nt),zt(e,n,a),l.timer=Be(l.timer,i),e.actions[hr]=l,vr.continue)}};var gr=Qe(function(e,n,a){var t,r=n.cursor,o=n.bounds,i=a.actions,s=a.lanes;if(s.has(Nt))return!1;if(!function(e,n){return e.msSinceUpdate>=Vt||!ca(e.relPos,n)}(r,o))return!1;var c=null!==(t=i[sr])&&void 0!==t?t:{boredomTimer:Jt};return e.actions[sr]=c,s.add(Nt),!0},[function(e,n,a){var r;if(!(e.actions[sr].boredomTimer<=0)){var o=a.delta,i=a.lanes,s=a.actions;if(!i.has(It)){var c,l,u,d,f=null!==(r=s[cr])&&void 0!==r?r:{inPosition:!1,repositionTimer:0,stareTimer:Le(Wt,Yt),subAction:kn.b,lastResult:vr.notApplicable,pretendedNotToCare:!1},h=f.inPosition&&f.stareTimer<=0;if(h&&(function(e,n,a,t){var r;if(t.lastResult===vr.continue&&(r=t.subAction,kn.a.isDefined).call(r))t.lastResult=br[t.subAction](e,n,a,t);else{var o=(r=b()(br),I.a.shuffle).call(r),i=!0,s=!1,c=void 0;try{for(var l,u=ot()(o);!(i=(l=u.next()).done);i=!0){var d=l.value,f=br[d](e,n,a,t);if(f!==vr.notApplicable)return t.subAction=d,void(t.lastResult=f)}}catch(h){s=!0,c=h}finally{try{i||null==u.return||u.return()}finally{if(s)throw c}}t.subAction=kn.b,t.lastResult=vr.notApplicable}}(e,n,a,f),f.lastResult!==vr.continue&&(f.stareTimer=Le(Wt,Yt))),!h||f.lastResult===vr.notApplicable){var p,m=e.physics.pos,v=e.brain,g=n.cursor.relPos,y=n.bounds,j=y.left,x=y.right,O=m.x-ir,w=m.x+ir,T=(p=g.x-nr,Y.a.clamp).call(p,j,x),k=g.x+Y.a.clamp.call(nr,j,x),R=g.x-m.x,S=f.repositionTimer<=0,E=(c=O,l=w,u=T,d=k,!!Y.a.inRange.call(c,u,d)||!!Y.a.inRange.call(l,u,d)),A=Bt(R)<.4*nr;E?A?S&&(v.facing=pr(m,n.bounds),v.moving=Je.yes):S&&(v.facing=R>=0?Ie.right:Ie.left,f.repositionTimer=Le(50,150)):S&&(v.facing=R>=0?Ie.right:Ie.left,v.moving=Je.yes),v.lookingUp=function(e,n,a){var r,o=e.x,i=e.y;i+=or;var s=_.d.copyOwn.call(n);return s.x-=o,s.y-=i,a&&(s.x*=-1),(r=t.angle.call(s),Y.a.angleInRange).call(r,tr,rr)}(m,g,v.facing===Ie.left),f.inPosition&&(f.stareTimer=Be(f.stareTimer,o)),S||(f.repositionTimer=Be(f.repositionTimer,o)),f.inPosition=f.inPosition||E}e.actions[cr]=f,i.add(Ht),i.add(It)}}},function(e,n,a){if(!a.lanes.has(Ht)){var t=e.brain;e.sounds[We.aroo].play(),t.behavior=Ne.passive,t.pacificationTimer=Le(2e3,1e3)}},function(e,n,a){var t=a.delta,r=e.actions[sr];r.boredomTimer=Be(r.boredomTimer,t)}]);var yr=Qe(function(e){return e.brain.behavior===Ne.aggressive},[gr,tt,zt]),jr=q()([function(e,n){var a=n.bounds;if(!e.spawned){var t=e.physics.pos,r=a.left,o=a.right,i=a.ground;t.x=.5*(o-r)+r,t.y=i+200,e.spawned=!0}},function(e,n,a){var t=e.brain,r=a.delta;t.retaliationTimer=Be(t.retaliationTimer,r),t.shootCoolDown=Be(t.shootCoolDown,r),t.shootHold=Be(t.shootHold,r)},Ea,yr,function(e){var n=e.brain,a=e.physics.accel;if(n.moving===Je.yes){var t=n.facing===Ie.right?1:-1;a.x=t*Jn}},function(e){var n=e.brain,a=e.physics;a.onGround&&n.jumping!==qe.none&&(a.vel.y+=n.jumping===qe.full?qn.full:qn.weak,a.onGround=!1)},function(e,n,a){var t=n.bounds,r=a.delta,o=e.physics,i=o.vel,s=o.accel,c=o.pos,l=o.onGround,u=e.brain.moving;l||(s.y-=.001),(u!==Je.drift||l)&&(i.x=_e.newVelocity(s.x*r,Vn*r,i.x)),i.y=i.y+s.y*r,c.x+=i.x*r,c.y+=i.y*r,s.x=s.y=0,c.x-Wn<t.left&&(c.x=t.left+Wn),c.x+Wn>t.right&&(c.x=t.right-Wn)},function(e,n){var a=n.bounds.ground,t=e.physics,r=e.anim,o=e.sounds,i=t.vel,s=t.pos;s.y<a&&(i.y=0,s.y=a,t.onGround||(t.onGround=!0,r.land=100,o[We.land].play()))},function(e,n){var a=n.bullets,r=e.brain,o=e.anim,i=e.physics;if(r.shooting!==Ve.none&&!(r.shootCoolDown>0)){var s,c=Tn()(a).call(a,$n);"undefined"!==typeof c&&(s=Hn(r.shooting,e),w()(kn.a)).call(s,function(e){var n,a=e.x,s=e.y,l=i.pos,u=l.x,d=l.y,f=r.shooting===Ve.ahead?r.facing:r.shooting;r.facing===Ie.left&&(a*=-1),r.aiming=r.shooting,r.shootCoolDown=Yn,r.shootHold=Qn,o.recoil=!0,c.spawned=!0,c.initialized=!1,(n=c.nodes[0].pos,t.setXY).call(n,u+a,d+s),c.trajectory=(n=Ye[f],_.d.copyOwn).call(n)})}},function(e,n,a){var t=a.delta,r=e.physics,o=r.vel,i=r.onGround,s=e.brain,c=s.moving,l=s.facing,u=s.lookingUp,d=e.anim,f=[];i?c===Je.yes?f.push("run"):(f.push("idle"),u&&f.push("look-up")):(f.push("jump"),o.y<-.055?f.push("fall"):o.y<.055&&f.push("apex")),d.land=Be(d.land,t),d.land>0&&(On()(f).call(f,"idle")?f.push("land"):d.land=0),l===Ie.left&&f.push("mirror"),d.main=f},function(e,n,a){var t,r=a.actions,o=e.brain,i=o.aiming,s=o.shootHold,c=e.anim,l=null!==(t=r[Kn])&&void 0!==t?t:{lastAiming:Ve.none},u=[];s>0&&i!==Ve.none&&(i===Ve.ahead?u.push("shoot-side"):i===Ve.up?u.push("shoot-up"):i===Ve.down&&u.push("shoot-down"),c.recoil=Object(_.c)(function(){var e;return!!c.recoil&&!(s<Xn)&&i===l.lastAiming&&!!On()(e=c.main).call(e,"idle")}),c.recoil&&u.push("recoil")),c.shoot=u,l.lastAiming=i,e.actions[Kn]=l},function(e){var n=e.brain;n.moving=Je.no,n.lookingUp=!1,n.jumping=qe.none,n.shooting=Ve.none}]),xr=a("LK4Q"),Or=a("39/O"),wr=a("4FKG"),Tr=a("loi1"),kr=a("0izT"),Rr=B.a.createElement;function Sr(e){e.onPreload,e.onLoad,e.onError;return Object(Or.a)(e,["onPreload","onLoad","onError"])}function Er(e){var n=this.props,a=n.onPreload,t=n.onLoad,r=n.onError,o=this.state,i=o.error,s=o.preloaded;a===e.onPreload||s||i||null===a||void 0===a||a(),t!==e.onLoad&&s&&!i&&(null===t||void 0===t||t(!0)),r!==e.onError&&i&&(null===r||void 0===r||r(i,!0))}function Ar(){this.didUnmount=!0}function Pr(){var e=this.handlePreload,n=this.handleLoad,a=this.handleError,t=this.state,r=t.preloaded,o=t.error,i=this.getPreloaderProps(this.props);return Rr(Tr.a,{preloaded:r,error:o},Rr(wr.a,Object(xr.a)({},i,{onPreload:e,onLoad:n,onError:a})))}var Fr=function(e){function n(){var e,a,t;Object(F.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=Object(U.a)(this,(e=Object(M.a)(n)).call.apply(e,P()(a=[this]).call(a,o))),Object(z.a)(Object(C.a)(t),"state",{preloaded:!1,error:null}),Object(z.a)(Object(C.a)(t),"didUnmount",!1),Object(z.a)(Object(C.a)(t),"getPreloaderProps",Object(kr.a)(Sr)),Object(z.a)(Object(C.a)(t),"handlePreload",function(){var e,n;null===(e=(n=t.props).onPreload)||void 0===e||e.call(n),t.didUnmount||t.state.preloaded&&t.setState({preloaded:!1,error:null})}),Object(z.a)(Object(C.a)(t),"handleLoad",function(e){var n,a;null===(n=(a=t.props).onLoad)||void 0===n||n.call(a,e),t.didUnmount||t.setState({preloaded:!0})}),Object(z.a)(Object(C.a)(t),"handleError",function(e,n){var a,r;return!0===(null===(a=(r=t.props).onError)||void 0===a?void 0:a.call(r,e,n))&&!n||(t.didUnmount||t.setState({preloaded:!0,error:e}),!1)}),t}return Object(G.a)(n,e),Object(D.a)(n,[{key:"componentDidUpdate",value:Er},{key:"componentWillUnmount",value:Ar},{key:"render",value:Pr}]),n}(B.a.PureComponent),Dr=function(e){function n(){return Object(F.a)(this,n),Object(U.a)(this,Object(M.a)(n).apply(this,arguments))}return Object(G.a)(n,e),n}(a("XSM9").a),Ur=a("+F2F"),Mr=a.n(Ur);function Cr(e){var n;return Aa(n=L.Children.toArray(e)).call(n,function(e,n){return n.type===L.Fragment?A(e).call(e,Cr(n.props.children)):(e.push(n),e)},[])}var Gr=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=null!=e,r=null!=n;if(!t&&!r)return!0;if(t!==r)return!1;if(Mr()(e,n))return!0;var o=B.a.Children.toArray(e),i=B.a.Children.toArray(n);return Lr(o,i,a)},zr=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=null!=e,r=null!=n;if(!t&&!r)return!0;if(t!==r)return!1;if(Mr()(e,n))return!0;var o=Cr(e),i=Cr(n);return Lr(o,i,a)},Lr=function(e,n,a){if(e.length!==n.length)return!1;for(var t=0,r=e.length;t<r;t++){var o=e[t],i=n[t];if(!Mr()(o,i)){if(!Object(L.isValidElement)(o)||!Object(L.isValidElement)(i))return!1;if(!Mr()(o.type,i.type))return!1;if(o.key!==i.key)return!1;if(a){var s=o.props,c=s.children,l=Object(Or.a)(s,["children"]),u=i.props,d=u.children,f=Object(Or.a)(u,["children"]);if(!Object(_.b)(l,f))return!1;if(!Gr(c,d,!0))return!1}else if(!Object(_.b)(o.props,i.props))return!1}}return!0},Br=B.a.createElement;function _r(e){var n=e.src;e.audioRef;return{src:n,audioProps:Object(Or.a)(e,["src","audioRef"])}}function Nr(e){var n=this;this.props.src!==e.src&&this.setState({preloaded:!1,error:null},function(){var e;return null===(e=n.audioEl)||void 0===e?void 0:e.load()})}function Hr(){this.didUnmount=!0}function Ir(){var e=this.checkReadiness,n=this.onCanPlayThrough,a=this.onError,t=this.state,r=t.preloaded,o=t.error,i=this.decomposeProps(this.props),s=i.src,c=i.audioProps;return s?Br(Tr.a,{preloaded:r,error:o},Br("audio",Object(xr.a)({},c,{ref:e,src:s,onCanPlayThrough:n,onError:a}))):null}var Vr=function(e){function n(){var e,a,t;Object(F.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=Object(U.a)(this,(e=Object(M.a)(n)).call.apply(e,P()(a=[this]).call(a,o))),Object(z.a)(Object(C.a)(t),"state",{preloaded:!t.props.src,error:null}),Object(z.a)(Object(C.a)(t),"didUnmount",!1),Object(z.a)(Object(C.a)(t),"audioEl",null),Object(z.a)(Object(C.a)(t),"decomposeProps",Object(kr.a)(_r)),Object(z.a)(Object(C.a)(t),"checkReadiness",function(e){var n=Object(C.a)(t),a=n.props.audioRef,r=n.state.preloaded;t.audioEl=e,a&&(_.g.func.call(a)?a(e):a.current=e);var o=(null===e||void 0===e?void 0:e.readyState)===HTMLMediaElement.HAVE_ENOUGH_DATA;o!==r&&(o?t.setState({preloaded:!0}):t.setState({preloaded:!1,error:null}))}),Object(z.a)(Object(C.a)(t),"onCanPlayThrough",function(){t.didUnmount||t.setState({preloaded:!0})}),Object(z.a)(Object(C.a)(t),"onError",function(){var e;if(!t.didUnmount){var n=t.props.src,a=h()(e=["sound failed to load",n]).call(e,Boolean).join(": ");t.setState({preloaded:!0,error:new Dr(a)})}}),t}return Object(G.a)(n,e),Object(D.a)(n,[{key:"componentDidUpdate",value:Nr},{key:"componentWillUnmount",value:Hr},{key:"render",value:Ir}]),n}(B.a.PureComponent);function Jr(e,n){var a=Br("source",{src:e,type:n}),t=function(t){var r=t.asSource,o=Object(Or.a)(t,["asSource"]);return r?a:n?Br(Ao,o,a):Br(Vr,Object(xr.a)({},o,{src:e}))};return t.displayName='importedSound("'.concat(e,'")'),t.isImportedSound=!0,t}var qr=Vr,Wr=B.a.createElement;function Yr(e){return{children:e.children,src:e.src,audioRef:e.audioRef,audioProps:Object(Or.a)(e,["children","src","audioRef"])}}function Qr(){return this.sourcesChanged=!0,!0}function Xr(e,n){var a=e.children,t=Object(Or.a)(e,["children"]),r=this.props,o=r.children,i=Object(Or.a)(r,["children"]);return zr(o,a)?!Object(_.b)(i,t)||!Object(_.b)(this.state,n):this.childrenDiffer()}function Kr(){var e=this;this.sourcesChanged&&(this.sourcesChanged=!1,this.setState({preloaded:!1,error:null},function(){var n;return null===(n=e.audioEl)||void 0===n?void 0:n.load()}))}function Zr(){var e=this.checkReadiness,n=this.onCanPlayThrough,a=this.onError,t=this.state,r=t.preloaded,o=t.error,i=this.decomposeProps(this.props),s=i.children,c=i.src,l=i.audioRef,u=i.audioProps;return c?Wr(qr,Object(xr.a)({},u,{audioRef:l,src:c})):Wr(Tr.a,{preloaded:r,error:o},Wr("audio",Object(xr.a)({},u,{ref:e,onCanPlayThrough:n,onError:a}),s))}var $r,eo,no,ao,to,ro,oo,io,so,co,lo,uo,fo,ho,po,mo,vo,bo,go,yo,jo,xo,Oo,wo,To,ko,Ro,So=function(e){function n(){var e,a,t;Object(F.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=Object(U.a)(this,(e=Object(M.a)(n)).call.apply(e,P()(a=[this]).call(a,o))),Object(z.a)(Object(C.a)(t),"state",{preloaded:!1,error:null}),Object(z.a)(Object(C.a)(t),"audioEl",null),Object(z.a)(Object(C.a)(t),"sourcesChanged",!1),Object(z.a)(Object(C.a)(t),"didUnmount",!1),Object(z.a)(Object(C.a)(t),"decomposeProps",Object(kr.a)(Yr)),Object(z.a)(Object(C.a)(t),"checkReadiness",function(e){var n=Object(C.a)(t),a=n.props.audioRef,r=n.state.preloaded;t.audioEl=e,a&&(_.g.func.call(a)?a(e):a.current=e);var o=(null===e||void 0===e?void 0:e.readyState)===HTMLMediaElement.HAVE_ENOUGH_DATA;o!==r&&(o?t.setState({preloaded:!0}):t.setState({preloaded:!1,error:null}))}),Object(z.a)(Object(C.a)(t),"onCanPlayThrough",function(){t.didUnmount||t.setState({preloaded:!0})}),Object(z.a)(Object(C.a)(t),"onError",function(){var e;if(!t.didUnmount){var n=Eo(t.props.children),a=h()(e=["sound failed to load",n]).call(e,Boolean).join(": ");t.setState({preloaded:!0,error:new Dr(a)})}}),t}return Object(G.a)(n,e),Object(D.a)(n,[{key:"childrenDiffer",value:Qr},{key:"shouldComponentUpdate",value:Xr},{key:"componentDidUpdate",value:Kr},{key:"render",value:Zr}]),n}(B.a.Component),Eo=function(e){var n,a=null;return w()(n=B.a.Children).call(n,e,function(e){if(!a){var n=function(e){var n;if(!e)return null;var a=e.type,t=e.props;return(n=null===t||void 0===t?void 0:t.src,_.g.string).call(n)?t.src:(n=null===a||void 0===a?void 0:a.src,_.g.string).call(n)?a.src:null}(e);n&&(a=n)}}),a},Ao=So,Po=a("o7Sl"),Fo=a("7QGR"),Do=a("MX0m"),Uo=a.n(Do),Mo=a("YJ0Z"),Co=Object(Mo.a)("/static/images/nate-game/nate_sprite.png",312,416,"image/png"),Go=Object(Mo.a)("/static/images/nate-game/bullet_sprite.png",18,27,"image/png"),zo=Object(Mo.a)("/static/images/nate-game/bullet_burst_sprite.png",17,34,"image/png"),Lo=B.a.createElement,Bo=[52,52],_o=[-26,5],No=[9,9],Ho=[17,17],Io="\n  image-rendering: -moz-crisp-edges;\n  image-rendering: -o-crisp-edges;\n  image-rendering: -webkit-optimize-contrast;\n  image-rendering: crisp-edges;\n  -ms-interpolation-mode: nearest-neighbor;\n",Vo=function(e,n,a){var t,r=Object(W.a)(e,2),o=r[0],i=r[1];return P()(t="background-position: ".concat(n*-o,"px ")).call(t,a*-i,"px;")},Jo=function(e,n){var a=Object(W.a)(e,2)[1];return"background-position-y: ".concat(a*-n,"px;")},qo=function(e,n){var a=Object(W.a)(e,1)[0];return"background-position-x: ".concat(a*-n,"px;")},Wo=function(e){var n,a=Object(W.a)(e,2),t=a[0],r=a[1];return P()(n="width: ".concat(t,"px; height: ")).call(n,r,"px;")},Yo=function(e){var n,a=Object(W.a)(e,2),t=a[0],r=a[1];return P()(n="translate(".concat(t,"px, ")).call(n,r,"px)")},Qo=function(e){var n=Object(W.a)(e,2),a=n[0],t=n[1];return Yo([-Math.ceil(.5*a),Math.ceil(.5*t)])},Xo={styles:Lo(Uo.a,{id:"1833141580"},[P()($r="@-webkit-keyframes run-cycle-jsx-1833141580{0%{".concat(qo(Bo,0),";}100%{")).call($r,qo(Bo,6),";}}"),P()(eo="@keyframes run-cycle-jsx-1833141580{0%{".concat(qo(Bo,0),";}100%{")).call(eo,qo(Bo,6),";}}"),P()(no="@-webkit-keyframes jump-cycle-jsx-1833141580{0%{".concat(qo(Bo,0),";}100%{")).call(no,qo(Bo,1),";}}"),P()(ao="@keyframes jump-cycle-jsx-1833141580{0%{".concat(qo(Bo,0),";}100%{")).call(ao,qo(Bo,1),";}}"),P()(to="@-webkit-keyframes fall-cycle-jsx-1833141580{0%{".concat(qo(Bo,3),";}100%{")).call(to,qo(Bo,4),";}}"),P()(ro="@keyframes fall-cycle-jsx-1833141580{0%{".concat(qo(Bo,3),";}100%{")).call(ro,qo(Bo,4),";}}"),P()(oo=P()(io=P()(so=P()(co=P()(lo="*.jsx-1833141580{".concat(Io," ")).call(lo,Wo(Bo)," position:absolute;z-index:3;background:url('")).call(co,Co.src,"');-webkit-transform:")).call(so,Yo(_o),";-ms-transform:")).call(io,Yo(_o),";transform:")).call(oo,Yo(_o),";}"),"*.idle.jsx-1833141580{".concat(Vo(Bo,0,0),";}"),"*.idle.look-up.jsx-1833141580{".concat(Vo(Bo,1,0),";}"),"*.idle.shoot-up.jsx-1833141580{".concat(Vo(Bo,4,0),";}"),"*.idle.shoot-up.recoil.jsx-1833141580{".concat(Vo(Bo,5,0),";}"),"*.idle.shoot-side.jsx-1833141580{".concat(Vo(Bo,2,0),";}"),"*.idle.shoot-side.recoil.jsx-1833141580{".concat(Vo(Bo,3,0),";}"),"*.idle.land.jsx-1833141580{".concat(Vo(Bo,5,4),";}"),"*.idle.land.shoot-side.jsx-1833141580{".concat(Vo(Bo,5,5),";}"),"*.idle.land.shoot-up.jsx-1833141580{".concat(Vo(Bo,5,6),";}"),"*.idle.land.shoot-down.jsx-1833141580{".concat(Vo(Bo,5,7),";}"),"*.run.jsx-1833141580{-webkit-animation:run-cycle-jsx-1833141580 0.75s steps(6) infinite;animation:run-cycle-jsx-1833141580 0.75s steps(6) infinite;".concat(Jo(Bo,1),";}"),"*.run.shoot-side.jsx-1833141580{".concat(Jo(Bo,2),";}"),"*.run.shoot-up.jsx-1833141580{".concat(Jo(Bo,3),";}"),"*.jump.jsx-1833141580{-webkit-animation:jump-cycle-jsx-1833141580 0.125s steps(1) 1 forwards;animation:jump-cycle-jsx-1833141580 0.125s steps(1) 1 forwards;".concat(Jo(Bo,4),";}"),"*.jump.apex.jsx-1833141580{-webkit-animation:none;animation:none;".concat(qo(Bo,2),";}"),"*.jump.fall.jsx-1833141580{-webkit-animation:fall-cycle-jsx-1833141580 0.125s steps(1) 1 forwards;animation:fall-cycle-jsx-1833141580 0.125s steps(1) 1 forwards;}","*.jump.shoot-side.jsx-1833141580{".concat(Jo(Bo,5),";}"),"*.jump.shoot-up.jsx-1833141580{".concat(Jo(Bo,6),";}"),"*.jump.shoot-down.jsx-1833141580{".concat(Jo(Bo,7),";}"),P()(uo=P()(fo="*.mirror.jsx-1833141580{-webkit-transform:".concat(Yo(_o)," scale(-1.0,1.0);-ms-transform:")).call(fo,Yo(_o)," scale(-1.0,1.0);transform:")).call(uo,Yo(_o)," scale(-1.0,1.0);}"),"*.despawned.jsx-1833141580{display:none;}"]),className:"jsx-1833141580"},Ko={styles:Lo(Uo.a,{id:"1241149275"},[P()(ho="@-webkit-keyframes bullet-flight-jsx-1241149275{0%{".concat(qo(No,0),";}100%{")).call(ho,qo(No,2),";}}"),P()(po="@keyframes bullet-flight-jsx-1241149275{0%{".concat(qo(No,0),";}100%{")).call(po,qo(No,2),";}}"),P()(mo="@-webkit-keyframes bullet-burst-jsx-1241149275{0%{".concat(Jo(Ho,0),";}100%{")).call(mo,Jo(Ho,1),";}}"),P()(vo="@keyframes bullet-burst-jsx-1241149275{0%{".concat(Jo(Ho,0),";}100%{")).call(vo,Jo(Ho,1),";}}"),P()(bo=P()(go=P()(yo=P()(jo=P()(xo="*.bullet.jsx-1241149275{".concat(Io," ")).call(xo,Wo(No)," position:absolute;background:url('")).call(jo,Go.src,"');-webkit-transform:")).call(yo,Qo(No),";-ms-transform:")).call(go,Qo(No),";transform:")).call(bo,Qo(No),";-webkit-animation:bullet-flight-jsx-1241149275 0.2s steps(2) infinite;animation:bullet-flight-jsx-1241149275 0.2s steps(2) infinite;}"),"*.node-1.jsx-1241149275{z-index:7;}","*.node-2.jsx-1241149275{z-index:6;".concat(Jo(No,1),";}"),"*.node-3.jsx-1241149275{z-index:5;".concat(Jo(No,2),";}"),P()(Oo=P()(wo=P()(To=P()(ko=P()(Ro="*.bullet-burst.jsx-1241149275{".concat(Io," ")).call(Ro,Wo(Ho)," position:absolute;z-index:4;background:url('")).call(ko,zo.src,"');-webkit-transform:")).call(To,Qo(Ho),";-ms-transform:")).call(wo,Qo(Ho),";transform:")).call(Oo,Qo(Ho),";-webkit-animation:bullet-burst-jsx-1241149275 0.075s steps(1) 1 forwards;animation:bullet-burst-jsx-1241149275 0.075s steps(1) 1 forwards;}"),"*.despawned.jsx-1241149275{display:none;}"]),className:"jsx-1241149275"},Zo=Jr("/static/sounds/nate-game/bow-wow.ogg","audio/ogg; codecs=vorbis"),$o=Jr("/static/sounds/nate-game/bow-wow.mp3","audio/mpeg"),ei=Jr("/static/sounds/nate-game/aroo.ogg","audio/ogg; codecs=vorbis"),ni=Jr("/static/sounds/nate-game/aroo.mp3","audio/mpeg"),ai=Jr("/static/sounds/nate-game/land.ogg","audio/ogg; codecs=vorbis"),ti=Jr("/static/sounds/nate-game/land.mp3","audio/mpeg"),ri=Jr("/static/sounds/nate-game/pew.ogg","audio/ogg; codecs=vorbis"),oi=Jr("/static/sounds/nate-game/pew.mp3","audio/mpeg"),ii=Jr("/static/sounds/nate-game/pop1.ogg","audio/ogg; codecs=vorbis"),si=Jr("/static/sounds/nate-game/pop1.mp3","audio/mpeg"),ci=Jr("/static/sounds/nate-game/pop2.ogg","audio/ogg; codecs=vorbis"),li=Jr("/static/sounds/nate-game/pop2.mp3","audio/mpeg"),ui=B.a.createElement;function di(e,n){var a=b()(e);if(m.a){var t=m()(e);n&&(t=h()(t).call(t,function(n){return d()(e,n).enumerable})),a.push.apply(a,t)}return a}var fi="the `Nate` component is not supported by the current browser",hi="game detached from the container",pi="preloading failed with an error",mi="game failed with an error",vi=ui(Co,null),bi=ui(Go,null),gi=ui(zo,null),yi=ui(Zo,{asSource:!0}),ji=ui($o,{asSource:!0}),xi=ui(ei,{asSource:!0}),Oi=ui(ni,{asSource:!0}),wi=ui(ai,{asSource:!0}),Ti=ui(ti,{asSource:!0}),ki=ui(ri,{asSource:!0}),Ri=ui(oi,{asSource:!0}),Si=ui(ii,{asSource:!0}),Ei=ui(si,{asSource:!0}),Ai=ui(ci,{asSource:!0}),Pi=ui(li,{asSource:!0});function Fi(e,n){var a,t=this;if(!(e<=0)){var r=this.world.bounds,o=r.ref.current;if(o){var i=o.offsetTop,s=n.offsetHeight;r.right=o.offsetWidth,r.ground=s-i}var c=this.world.cursor;if(c.msSinceUpdate<=0){var l=c.absPos,u=l.x,d=l.y,f=n.getBoundingClientRect(),h=f.left,p=f.bottom;c.relPos.x=u-h,c.relPos.y=-(d-p)}c.msSinceUpdate+=e;var m=this.world.nate,v={delta:e,actions:m.actions,lanes:new k.a};this.world.nate.actions={},w()(jr).call(jr,function(e){return e(m,t.world,v)});var b,g=m.physics.pos,y=g.x,j=g.y,O=m.anim,T=O.main,R=O.shoot,S=m.ref.current;S&&(S.className=x()(b=[Xo.className,T,R]).call(b).join(" "),S.style.left=(0|y)+"px",S.style.bottom=(0|j)+"px"),w()(a=this.world.bullets).call(a,function(n){var a,r={delta:e,lanes:new k.a};w()(jn).call(jn,function(e){return e(n,t.world,r)});var o=n.burst>0;w()(a=n.nodes).call(a,function(e,a){var t=e.ref.current,r=e.pos,i=r.x,s=r.y;if(t){var c=!n.spawned||o&&a>0;Xi.call(t,"despawned",c),c||(Xi.call(t,"bullet",!o),Xi.call(t,"bullet-burst",o),t.style.left=(0|i)+"px",t.style.bottom=(0|s)+"px")}})})}}function Di(){var e=this,n=null;function a(a){for(;;)switch(a.prev=a.next){case 0:if(n){a.next=2;break}return a.abrupt("return");case 2:if(e.soundsEnabled){a.next=4;break}return a.abrupt("return");case 4:if(e.world.nate.brain.behavior===Ne.aggressive){a.next=6;break}return a.abrupt("return");case 6:return a.prev=6,n.pause(),n.currentTime=0,a.next=11,n.play();case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(6);case 16:case"end":return a.stop()}}function t(){return S.a.wrap(a,t,null,[[6,13]])}return{play:function(){var e=Object(E.a)(S.a.mark(t));return function(){return e.apply(this,arguments)}}(),ref:function(e){e&&(e.volume=.33),n=e}}}function Ui(e){this.setState(function(n){var a,t,r=Boolean(null!==(a=e.imagesReady)&&void 0!==a?a:n.imagesReady),i=Boolean(null!==(t=e.soundsReady)&&void 0!==t?t:n.soundsReady);return function(e){for(var n=1;n<arguments.length;n++){var a,t=null!=arguments[n]?arguments[n]:{};if(n%2)w()(a=di(t,!0)).call(a,function(n){Object(z.a)(e,n,t[n])});else if(l.a)s()(e,l()(t));else{var r;w()(r=di(t)).call(r,function(n){o()(e,n,d()(t,n))})}}return e}({},e,{preloadDone:r&&i})})}function Mi(e,n,a){if(_.g.func.call(n))return n(e);if(a)throw e}function Ci(){var e=this.props,n=e.onPreloadError,a=e.onGameError,t=e.onLoad,r=e.container,o=this.state,i=o.preloadError,s=o.gameError,c=o.preloadDone;switch(this.attachGame(r),!0){case Boolean(i):return this.raiseError(i,n,!0);case Boolean(s):return this.raiseError(s,a,!0)}c&&t&&t()}function Gi(e,n){var a=this.props,t=a.onPreloadError,r=a.onGameError,o=a.onLoad,i=a.container,s=this.state,c=s.preloadError,l=s.gameError,u=s.preloadDone;switch(!0){case Boolean(c||l):case i!==e.container:case u&&!n.preloadDone:this.attachGame(i)}if(c)n.preloadError?t!==e.onPreloadError&&this.raiseError(c,t,!1):this.raiseError(c,t,!0);else if(l)n.gameError?r!==e.onGameError&&this.raiseError(l,r,!1):this.raiseError(l,r,!0);else switch(!0){case u!==n.preloadDone:case o!==e.onLoad:u&&o&&o()}}function zi(){this.props.container&&this.attachGame(null)}function Li(){var e=this.world.bounds.ref;return ui("div",{ref:e,className:"ground-plane"})}function Bi(){var e=this.world.nate.ref,n=Xo.className;return ui("div",{ref:e,className:"".concat(n," despawned")})}function _i(){var e,n=Ko.className;return(e=this.world.bullets,V.flatMap).call(e,function(e,a){var t;return y()(t=e.nodes).call(t,function(e,t){var r,o;return ui("div",{key:P()(r="".concat(a,".")).call(r,t),ref:e.ref,className:P()(o="".concat(n," node-")).call(o,t+1," despawned")})})})}function Ni(){return ui(Fr,{onLoad:this.onImagesReady,onError:this.onImagesFailed,display:"never",once:!0},vi,bi,gi)}function Hi(){var e=this.world,n=e.nate.sounds,a=e.bullets,t=We.bark,r=We.aroo,o=We.land,i=We.spawned,s=We.hit,c=We.timedOut;return ui(Fr,{onLoad:this.onSoundsReady,onError:this.onSoundsFailed,display:"never",once:!0},ui(Ao,{audioRef:n[t].ref},yi,ji),ui(Ao,{audioRef:n[r].ref},xi,Oi),ui(Ao,{audioRef:n[o].ref},wi,Ti),y()(a).call(a,function(e,n){var a=e.sounds;return ui(L.Fragment,{key:n},ui(Ao,{audioRef:a[i].ref},ki,Ri),ui(Ao,{audioRef:a[s].ref},Si,Ei),ui(Ao,{audioRef:a[c].ref},Ai,Pi))}))}function Ii(){var e=this.props.container,n=this.state,a=n.preloadError,t=n.gameError;return!e||a||t?null:ui(L.Fragment,null,this.renderGround(),this.renderNate(),this.renderBullets(),this.renderImages(),this.renderSounds(),Xo.styles,Ko.styles)}var Vi=function(e){function n(){var e,a,t,r;Object(F.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];function c(e,n){var a;function t(e){try{var t=Math.min(e-a,50);return a=e,r.doGameUpdate(t,n),!0}catch(o){throw new Fo.a("an error occurred while updating the game state",o)}}return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,document.addEventListener("mousemove",r.mouseMoveHandler),document.addEventListener("scroll",r.scrollHandler),a=performance.now(),n.next=6,Object(N.c)(e,t);case 6:n.next=15;break;case 8:if(n.prev=8,n.t0=n.catch(0),!r.didUnmount){n.next=12;break}return n.abrupt("return");case 12:if(!N.d.isAborted.call(n.t0)){n.next=14;break}return n.abrupt("return");case 14:r.setState({gameError:n.t0});case 15:return n.prev=15,document.removeEventListener("mousemove",r.mouseMoveHandler),document.removeEventListener("scroll",r.scrollHandler),n.finish(15);case 19:case"end":return n.stop()}},c,null,[[0,8,15,19]])}function l(){var e=Object(E.a)(S.a.mark(c));return function(n,a){return e.apply(this,arguments)}}return r=Object(U.a)(this,(e=Object(M.a)(n)).call.apply(e,P()(a=[this]).call(a,i))),Object(z.a)(Object(C.a)(r),"state",{imagesReady:!1,soundsReady:!1,preloadDone:!1,preloadError:null,gameError:Qi()?null:new Po.a(fi)}),Object(z.a)(Object(C.a)(r),"soundsEnabled",!1),Object(z.a)(Object(C.a)(r),"world",{nate:{physics:{vel:{x:0,y:0},accel:{x:0,y:0},pos:{x:0,y:0},onGround:!1},brain:{behavior:Ne.passive,moving:Je.no,lookingUp:!1,jumping:qe.none,shooting:Ve.none,facing:Ie.right,aiming:Ve.none,retaliationTimer:0,shootCoolDown:0,shootHold:0,pacificationTimer:0},anim:{main:["idle"],shoot:[],recoil:!1,land:0},sounds:(t={},Object(z.a)(t,We.bark,r.soundPlayer()),Object(z.a)(t,We.aroo,r.soundPlayer()),Object(z.a)(t,We.land,r.soundPlayer()),t),spawned:!1,actions:{},ref:B.a.createRef()},bounds:{left:0,right:0,ground:0,ref:B.a.createRef()},cursor:{absPos:{x:0,y:0},relPos:{x:0,y:0},msSinceUpdate:0},bullets:Object(I.d)(3,function(){var e;return{spawned:!1,initialized:!1,timeout:0,burst:0,trajectory:{x:0,y:0},driftRemaining:0,nodes:[{pos:{x:0,y:0},ref:B.a.createRef()},{pos:{x:0,y:0},ref:B.a.createRef()},{pos:{x:0,y:0},ref:B.a.createRef()}],sounds:(e={},Object(z.a)(e,We.spawned,r.soundPlayer()),Object(z.a)(e,We.hit,r.soundPlayer()),Object(z.a)(e,We.timedOut,r.soundPlayer()),e)}})}),Object(z.a)(Object(C.a)(r),"runGameLoopTask",Object(_.c)(function(){var e=l();return new H.a(e)})),Object(z.a)(Object(C.a)(r),"onImagesReady",function(){r.didUnmount||r.setPreloadState({imagesReady:!0})}),Object(z.a)(Object(C.a)(r),"onImagesFailed",function(e){if(!r.didUnmount)return r.setPreloadState({imagesReady:!1,preloadError:e}),!1}),Object(z.a)(Object(C.a)(r),"onSoundsReady",function(){r.didUnmount||(r.soundsEnabled=!0,r.setPreloadState({soundsReady:!0}))}),Object(z.a)(Object(C.a)(r),"onSoundsFailed",function(){if(!r.didUnmount)return r.soundsEnabled=!1,r.setPreloadState({soundsReady:!0}),!1}),Object(z.a)(Object(C.a)(r),"attachGame",function(e){var n=r.state,a=n.preloadDone,t=n.preloadError,o=n.gameError;a&&(t?r.runGameLoopTask.stop(pi):o?r.runGameLoopTask.stop(mi):e?r.runGameLoopTask.restart(e):r.runGameLoopTask.stop(hi))}),Object(z.a)(Object(C.a)(r),"mouseMoveHandler",function(e){var n=r.world.cursor;n.absPos.x=e.clientX,n.absPos.y=e.clientY,n.msSinceUpdate=0}),Object(z.a)(Object(C.a)(r),"scrollHandler",function(){r.world.cursor.msSinceUpdate=0}),r}return Object(G.a)(n,e),Object(D.a)(n,[{key:"doGameUpdate",value:Fi},{key:"soundPlayer",value:Di},{key:"setPreloadState",value:Ui},{key:"raiseError",value:Mi},{key:"componentDidMount",value:Ci},{key:"componentDidUpdate",value:Gi},{key:"componentWillUnmount",value:zi},{key:"renderGround",value:Li},{key:"renderNate",value:Bi},{key:"renderBullets",value:_i},{key:"renderImages",value:Ni},{key:"renderSounds",value:Hi},{key:"render",value:Ii}]),n}(B.a.PureComponent);function Ji(){for(var e=_.e.document.createElement("div"),n="animationName WebkitAnimationName MozAnimationName OAnimationName msAnimationName KhtmlAnimationName".split(" "),a=0;a<n.length;a++)if(null!=e.style[n[a]])return!0;return!1}function qi(){for(var e=_.e.document.createElement("div"),n="transform WebkitTransform MozTransform OTransform msTransform".split(" "),a=0;a<n.length;a++)if(null!=e.style[n[a]])return!0;return!1}function Wi(){var e;return!!(e=_.e.requestAnimationFrame,_.g.func).call(e)&&!!(e=_.e.cancelAnimationFrame,_.g.func).call(e)}function Yi(){var e;return(e=_.e.Set,_.g.func).call(e)}var Qi=Object(_.c)(function(){var e=void 0,n=Ji,a=qi,t=Wi,r=Yi;return function(){return null==e&&(e=t()&&n()&&a()&&r()),e}});function Xi(e,n){var a=this.classList.contains(e);n&&!a?this.classList.add(e):!n&&a&&this.classList.remove(e)}n.default=Vi},drcE:function(e,n,a){e.exports=a("BP/7")},vfRR:function(e,n,a){"use strict";var t=a("pevS"),r=a(0).find,o=a("xE4W"),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),t({target:"Array",proto:!0,forced:i},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("find")}}]);